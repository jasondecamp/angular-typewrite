"use strict";angular.module("angularTypewrite",[]),angular.module("angularTypewrite").directive("typewrite",["$timeout",function(a){function b(b,c,d){function e(){m=a(function(){f(c,0,0,j)},n)}function f(c,d,e,h){return d<=h.length?(i(c,h.substring(0,d)),d++,void(m=a(function(){f(c,d,e,h)},o))):(d--,void(k&&e<k.length-1?m=a(function(){g(c,d,e,k[e])},n):(b.callbackFn&&b.callbackFn(),q&&(m=a(function(){g(c,d,-1,k[e])},n)))))}function g(b,c,d,e){return c>0?(e=e.slice(0,-1),i(b,e),c--,void(m=a(function(){g(b,c,d,e)},p))):(d++,e=k[d],m=a(function(){f(b,0,d,e)},o),void 0)}function h(a){return"string"==typeof a&&("s"===a.charAt(a.length-1)?1e3*parseInt(a.substring(0,a.length-1),10):+a)}function i(a,b){return"INPUT"===a.prop("nodeName").toUpperCase()?a.val(b):a.html(b)}var j,k,l,m=null,n=d.initialDelay?h(d.initialDelay):200,o=d.typeDelay||200,p=d.eraseDelay||o/2,q=d.loop;b.text&&(b.text instanceof Array?(k=b.text,j=k[0]):j=b.text),("undefined"==typeof b.start||b.start)&&e(),b.$on("$destroy",function(){m&&a.cancel(m)}),b.$watch("start",function(a){!l&&a&&(l=!l,e())})}return{restrict:"A",link:b,scope:{text:"=typewrite",callbackFn:"&",start:"="}}}]);